default:
  context:
    lang: 'en'
    visitor: 'ant'
    node: 'status'

status_on_void:
  context:
    node: 'crocodiles' # redaction
  src: "<p do='void' status='true'>hello</p>"
  tem: "<p class='s<%= @node.version.status %>'>hello</p>"
  res: "<p class='s70'>hello</p>"

status_without_tag:
  context:
    node: 'crocodiles' # redaction
  src: "<r:void status='true'>hello</r:void>"
  tem: "<span class='s<%= @node.version.status %>'>hello</span>"
  res: "<span class='s70'>hello</span>"

prefix_project_no_show_no_tag:
  src: "<r:void prefix='project'>hop</r:void>"
  tem: "<%= prefix_project(@node) %>hop"
  res: "hop"

prefix_project_no_show_with_tag:
  src: "<p do='void' prefix='project'>hop</p>"
  res: "<p>hop</p>"

prefix_project_show_no_tag:
  src: "<r:root><r:void prefix='project'>hop</r:void></r:root>"
  res: "Zena the wild CMS / hop"

prefix_project_show_with_tag:
  src: "<r:root><p do='void' prefix='project'>hop</p></r:root>"
  res: "<p>Zena the wild CMS / hop</p>"

show_title_with_actions_without_prefix:
  src: "<h1 do='title' actions='all'/>"
  tem: "/class='s<%= @node.version.status %>/"

node_actions_status_prefix_false:
  src: "<h1 do='title' actions='all' status='false'/>"
  tem: "!/class='s<%= @node.version.status %>/"

node_actions_publish:
  src: "<h1 do='title' actions='all' publish='true'/>"
  tem: "/node_actions.*publish_after_save\s*=>\s*.true./"

prefix_lang_no_show:
  src: "<div do='void' prefix='lang'>hop</div>"
  res: "<div>hop</div>"

prefix_lang_show:
  context:
    lang: 'de'
  old_src: "<r:title/> AND NOW <r:title check_lang='false'/>"
  src: "<div do='void' prefix='lang'>hop</div>"
  res: "<div><span class='wrong_lang'>[en]</span> hop</div>"

set_attribute:
  old_src: "<div do='void' set_class='[name]'>hop</div>"
  src: "<div class='#{node_name}'>hop</div>"
  res: "<div class='status'>hop</div>"

set_attribute_empty_tag:
  old_src: "<div do='void' set_class='[name]'>hop</div>"
  src: "<div class='#{node_name}'/>"
  res: "<div class='status'></div>"

anchor_attribute:
  src: "<p do='#{id}' anchor='#{node_name}'>hello</p>"
  res: "<a class='anchor' name='status'></a><p>22</p>"

anchor_true:
  src: "<r:title live='true' anchor='true'/>"
  res: "<a class='anchor' name='node22'></a><span id='_title22'>status title</span>"

show_attr_anchor:
  src: "<r:show attr='node_name' anchor='true'/>"
  res: "<a class='anchor' name='node22'></a>status"

anchor_in_link:
  src: "<r:link class='xx' anchor='true'/>"
  res: "<a class='xx' href='#node22'>status title</a>"

anchor_tag:
  src: "<r:anchor/> <r:anchor anchor='#{node_name}'/>"
  res: "<a class='anchor' name='node22'></a> <a class='anchor' name='status'></a>"

live_with_show:
  src: "<r:title live='true'/>"
  res: "<span id='_title22'>status title</span>"

live_with_zazen:
  src: "<r:zazen attr='text' live='true'/>"
  res: "<div class='zazen' id='_text22'><p>status text</p></div>"
