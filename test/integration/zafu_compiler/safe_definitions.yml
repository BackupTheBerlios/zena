default:
  context:
    lang: 'en'
    visitor: 'ant'
    node: 'status'
  src: "simple text"
  tem: "simple text"
  res: "simple text"

params:
  context:
    d: 'hello ladies'
  old_src: "<i do='show' param='d'/>"
  src: "<i do='#{params[:d]}'/>"
  tem: "<i><%= params[:d] %></i>"
  res: "<i>hello ladies</i>"

gsub:
  context:
    node: 'tiger'
  old_src: "<r:BaseContact do='addres.gsub(/\\n/,\";\";')'/>"
  src: "<r:BaseContact do='eval'>address.gsub(/\\n/, ';')</r:BaseContact>"
  tem: "<% if @node.kpath_match?('NRC') -%><%= (@node.prop['address'] ? @node.prop['address'].gsub(/\\n/, \";\") : nil) %><% end -%>"
  res: "Small Island;In the Wild"

gsub_static:
  context:
    lang: 'fr'
  src: "<r:eval>trans('fr').gsub(/\\Af/, 'F')</r:eval>"
  tem: "Fran√ßais"

gsub_newline:
  context:
    node: 'tiger'
  src: "<r:BaseContact do='address.gsub(/\\n/, \"\\\\n\")'/>"
  res: 'Small Island\nIn the Wild'

blank:
  eval: 'this.blank?'
  tem:  "<%= @node.blank? %>"

blank_on_string:
  eval: 'node_name.blank?'
  tem:  "<%= @node.node_name.blank? %>"

blank_on_could_be_nil:
  eval: 'parent.blank?'
  tem:  "<%= @node.parent.blank? %>"
