default:
  context:
    lang: 'en'
    visitor: 'ant'
    node: 'status'

status_on_void:
  context:
    node: 'crocodiles' # redaction
  src: "<p do='void' status='true'>hello</p>"
  tem: "<p class='s<%= @node.version.status %>'>hello</p>"
  res: "<p class='s70'>hello</p>"

status_without_tag:
  context:
    node: 'crocodiles' # redaction
  src: "<r:void status='true'>hello</r:void>"
  tem: "<span class='s<%= @node.version.status %>'>hello</span>"
  res: "<span class='s70'>hello</span>"

prefix_project_no_show_no_tag:
  src: "<r:void prefix='project'>hop</r:void>"
  tem: "<%= prefix_project(@node) %>hop"
  res: "hop"

prefix_project_no_show_with_tag:
  src: "<p do='void' prefix='project'>hop</p>"
  res: "<p>hop</p>"

prefix_project_show_no_tag:
  src: "<r:root><r:void prefix='project'>hop</r:void></r:root>"
  tem: "<%= prefix_project(@node) %>hop"
  res: "hop"

prefix_project_show_with_tag:
  src: "<r:root><p do='void' prefix='project'>hop</p></r:root>"
  res: "<p>hop</p>"

show_title_with_actions_without_prefix:
  src: "<h1 do='title' actions='all'/>"
  tem: "/class='s<%= @node.version.status/"

node_actions_status_prefix_false:
  src: "<h1 do='title' actions='all' status='false'/>"
  tem: "!/class='s<%= @node.version.status/"

node_actions_publish:
  src: "<h1 do='title' actions='all' publish='true'/>"
  tem: "/node_actions.*publish_after_save\s*=>\s*.true./"

prefix_lang_no_show:
  src: "<div do='void' prefix='lang'>hop</div>"
  res: "<div>hop</div>"

prefix_lang_show:
  context:
    lang: 'de'
  old_src: "<r:title/> AND NOW <r:title check_lang='false'/>"
  src: "<div do='void' prefix='lang'>hop</div>"
  res: "<div><span class='wrong_lang'>[en]</span> hop</div>"