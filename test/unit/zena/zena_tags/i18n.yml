default:
  context:
    lang: 'en'
    visitor: 'ant'
    node: 'status'

wrong_lang_no_show:
  src: '<r:wrong_lang/>'
  res: ''

wrong_lang_show:
  context:
    lang: 'de'
  old_src: "<r:check_lang/> <r:check_lang text='(#LANG)'/> <p class='bad_lang' do='check_lang'>article en '_LANG'</p>"
  src: '<r:wrong_lang/> hop'
  res: '[en] hop'

wrong_lang_block_no_show:
  src: "<r:wrong_lang>this is not in <r:v do='lang'/></r:wrong_lang>"
  res: ""

wrong_lang_block_show:
  context:
    lang: 'de'
  src: "<r:wrong_lang>this is not in <r:v do='lang'/></r:wrong_lang>"
  res: "this is not in en"

wrong_lang_else_block:
  src: "<r:wrong_lang do='else'>good</r:wrong_lang>"
  res: "good"

trans:
  context:
    lang: 'fr'
  src: "<r:trans>Monday</r:trans>"
  tem: "lundi"
  res: "lundi"

translate_text:
  context:
    lang: 'fr'
  src: "<r:t text='Monday'/>"
  tem: "lundi"
  res: "lundi"

translate_attr:
  context:
    lang: 'fr'
  src: "<r:t attr='title'/>"
  tem: "<%= trans(@node.prop['title']) %>"
  res: "Etat des travaux" # no translation

translate_eval:
  context:
    lang: 'fr'
  src: "<r:t eval='version.lang'/>"
  tem: "<%= trans(@node.version.lang) %>"
  res: "français"

trans_rubyless:
  context:
    lang: 'fr'
  src: "<p do=\"trans('Monday')\"/>"
  tem: "<p>lundi</p>"

trans_rubyless_attr:
  context:
    lang: 'fr'
  src: "<p do=\"trans(v.lang)\"/>"
  tem: "<p><%= trans(@node.version.lang) %></p>"
  res: "<p>français</p>"

trans_attr:
  context:
    lang: 'en'
  src: "<r:trans attr='ref_lang'/>"
  tem: "<%= trans(@node.ref_lang) %>"
  res: "english"

trans_text_dyn_string:
  src: "<r:trans text='lang_#{ref_lang}'/>"
  tem: "<%= trans(\"lang_#{@node.ref_lang}\") %>"
  res: "lang_en"

trans_literal_string:
  src: "<r:trans text='e#{\"\"}n'/>"
  tem: "english"

trans_block:
  src: "<r:t>en</r:t>"
  tem: "english"